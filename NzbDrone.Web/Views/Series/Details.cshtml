@model SeriesDetailsModel
@using NzbDrone.Web.Helpers
@using NzbDrone.Web.Models
@{ViewBag.Title = Model.Title;}
@section HeaderContent
{
    @Html.IncludeCss("Grid.css")
}
@{ ViewBag.Title = Model.Title; }
<style>  
    .seasonToggleTopGroup
    {
        overflow: hidden;
    }
    
    .seasonToggleTop
    {
        background-color: #F1EDED;
        background-position: 5px center;
        background-repeat: no-repeat;
        display: inline-block;
        font-size: 15px;
        margin: 2px;
        padding: 2px 5px;
        width: 100px;
    }
    
    .seasonToggleLabel
    {
        margin-left: 5px;
    }
    
    .seasonToggleTop .ignoredEpisodesMaster
    {
        padding-left: 0px;
        padding-right: 0px;
        margin-bottom: -4px;
        border-style: none;
    }
    
    .statusImage, .searchImage, .renameImage, .ignoreEpisode, .ignoreEpisodesMaster
    {
        width: 18px;
        height: 18px;
        padding: 1px;
        margin: 0px;
    }
    
    .searchImage:hover, .renameImage:hover, .ignoreEpisode:hover, .ignoreEpisodesMaster:hover
    {
    }
    
    #banner-container
    {
        width: 758px;
        height: 140px;
        padding: 0px;
        margin-top: 10px;
        margin-bottom: 15px;
        margin-left: auto;
        margin-right: auto;
    }
    
    .seriesTable {
        width: 100%;
	    border-width: 1px;
	    border-spacing: 2px;
	    border-style: none;
	    border-color: white;
	    border-collapse: collapse;
    }
    
    .seriesTable th {
	    border-width: 1px;
	    padding: 2px;
	    border-style: inset;
	    border-color: #EEEEEE;
	    padding-left: 7px;
        text-align: left;
        background-color: white;
    }
    
    .seriesTable td {
	    border-width: 1px;
	    padding: 0 0.6em;
	    border-style: inset;
	    border-color: #EEEEEE;
        padding-left: 7px;
    }
    
    .detail-view {
        display: none;
    }
    
    /* Colour alternating rows */
    .seriesTable tr:nth-child(4n) {background: #E5ECF9}
    .seriesTable tr:nth-child(4n+1) {background: #E5ECF9}
</style>
@section ActionMenu{
    <ul class="sub-menu">
        <li>@Ajax.ActionLink("Scan Disk", "ScanDisk", "Command", new { seriesId = Model.SeriesId }, null)</li>
        <li>@Ajax.ActionLink("Update Info", "UpdateInfo", "Command", new { seriesId = Model.SeriesId }, null)</li>
        <li>@Ajax.ActionLink("Search for missing episodes", "BacklogSeries", "Episode", new { seriesId = Model.SeriesId }, null)</li>
        <li>@Ajax.ActionLink("Rename Episodes", "RenameEpisodes", "Episode", new { seriesId = Model.SeriesId }, null)</li>
    </ul>
}
<div id="banner-container">
    @{
        var bannerUrl = "../../Content/Images/img03.jpg";

        if (Model.HasBanner)
        {
            bannerUrl = "../../MediaCover/Banners/" + Model.SeriesId + ".jpg";
        }
    }
    <img src="@bannerUrl" alt="Banner"/>
</div>
<div class="seasonToggleTopGroup">
    @foreach (var season in Model.Seasons.OrderBy(s => s.SeasonNumber))
    {
        var ignoreSeason = "ignoreSeason_" + season.SeasonNumber;
        <div class="seasonToggleTop">
            <img src='../../Content/Images/@(season.AnyWanted ? "notIgnored" : "ignored").png'
                 class='ignoredEpisodesMaster ignoreEpisode @ignoreSeason @(season.AnyWanted ? "" : "ignored")'
                 title='Click to toggle season ignore status' />
            <span class="seasonToggleLabel">@(season.SeasonNumber == 0 ? "Specials" : "Season " + season.SeasonNumber)</span>
        </div>
    }
</div>
@foreach (var s in Model.Seasons.OrderByDescending(a => a.SeasonNumber))
{
    var season = s;
    Html.RenderPartial("Season", season);
}
@section Scripts{
    @Html.IncludeScript("NzbDrone/seriesDetails.js")
    <script type="text/javascript">
        seriesId = @Model.SeriesId;
    </script>
}
